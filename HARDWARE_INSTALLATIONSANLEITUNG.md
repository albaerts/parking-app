# ğŸ”§ SMART PARKING HARDWARE - SCHRITT-FÃœR-SCHRITT INSTALLATION

## ğŸ¯ **INSTALLATIONSPLAN (3 TAGE)**

### **ğŸ“… TAG 1: FUNDAMENT & MECHANIK (8 Stunden)**
### **ğŸ“… TAG 2: ELEKTRONIK & POWER (8 Stunden)**  
### **ğŸ“… TAG 3: SOFTWARE & TESTS (8 Stunden)**

---

## ğŸ“… **TAG 1: FUNDAMENT & MECHANISCHE INSTALLATION**

### **ğŸŒ… 08:00 - VORBEREITUNG**
#### **Werkzeug bereitstellen:**
- [ ] Akkuschrauber + Bits
- [ ] Steinbohrer 8mm (SDS-Plus)
- [ ] Schlagbohrmaschine
- [ ] Wasserwaage
- [ ] MaÃŸband/Zollstock
- [ ] AnreiÃŸnadel + Hammer
- [ ] Chemie-Anker Set
- [ ] SchraubenschlÃ¼ssel Set

#### **Material prÃ¼fen:**
- [ ] Linear Actuator komplett
- [ ] Metall-BÃ¼gel
- [ ] M8 DÃ¼bel + Schrauben (4 Sets)
- [ ] Basis-Platte (20x20cm)
- [ ] Chemie-Anker Kartuschen

### **ğŸ“ 08:30 - VERMESSUNG & MARKIERUNG**
```bash
1. Parkplatz-Ende lokalisieren (optimal: 60cm vom Ende)
2. BÃ¼gel-Position markieren (mittig, senkrecht zur Fahrtrichtung)
3. 4 Bohrpunkte anzeichnen (Basis-Platte als Schablone)
4. Abstand zu Hindernissen prÃ¼fen (min. 50cm)
5. HÃ¶hen-Niveau Ã¼berprÃ¼fen (GefÃ¤lle <5%)
```

### **ğŸ”¨ 09:00 - BOHRARBEITEN**
```bash
# BohrlÃ¶cher erstellen:
1. Steinbohrer 8mm einspannen
2. 4 LÃ¶cher bohren: 15cm tief, senkrecht
3. BohrlÃ¶cher reinigen (Druckluft/BÃ¼rste)
4. Tiefe mit Stahlstab kontrollieren
5. Risse im Beton prÃ¼fen
```

**âš ï¸ SICHERHEIT:**
- Schutzbrille + GehÃ¶rschutz tragen
- Staubmaske bei Bohrarbeiten
- Stromleitungen vorher orten!

### **ğŸ”— 09:30 - VERANKERUNG**
```bash
# Chemie-Anker setzen:
1. Kartuschen-Spitze abschneiden
2. Mischrohr aufstecken  
3. Chemie in Bohrloch einspritzen (2/3 voll)
4. M8 DÃ¼bel langsam eindrehen
5. 2 Stunden aushÃ¤rten lassen! â°
```

### **â˜• 10:30 - PAUSE (AushÃ¤rtezeit nutzen)**
```bash
# WÃ¤hrend Wartezeit:
- Kaffee trinken â˜•
- Material fÃ¼r Tag 2 sortieren
- Elektronik-Komponenten prÃ¼fen
- Wetter fÃ¼r Tag 2 checken
```

### **ğŸ”§ 12:30 - BASIS-PLATTE MONTAGE**
```bash
1. Basis-Platte ausrichten (Wasserwaage!)
2. M8 Schrauben durch Platte in DÃ¼bel
3. Kreuzweise anziehen (gleichmÃ¤ÃŸig)
4. Drehmoment: 25 Nm (handfest + 1/4 Umdrehung)
5. StabilitÃ¤t testen (kein Wackeln!)
```

### **âš¡ 13:00 - LINEAR ACTUATOR MONTAGE**
```bash
# Actuator befestigen:
1. Actuator auf Basis-Platte positionieren
2. Befestigungs-Schrauben eindrehen
3. Bewegungsrichtung prÃ¼fen (frei schwenkbar?)
4. Kabel-AusfÃ¼hrung markieren (zum GehÃ¤use)
5. Provisorische Kabel-Zugentlastung
```

### **ğŸ—ï¸ 14:00 - BÃœGEL-MECHANISMUS**
```bash
# BÃ¼gel montieren:
1. BÃ¼gel an Actuator-Stange befestigen
2. Kugelgelenk richtig ausrichten
3. Schwenk-Bereich testen (360Â° frei?)
4. Endpositionen definieren:
   - UP: Vertikal (90Â°)
   - DOWN: Horizontal Ã¼ber Boden (5cm)
5. Bewegung manuell testen
```

### **ğŸ”§ 15:00 - ENDSCHALTER INSTALLATION**
```bash
# Limit Switches montieren:
1. UP-Schalter an Basis montieren
2. DOWN-Schalter positionieren  
3. Mechanische AuslÃ¶sung testen
4. Kabel wasserdicht verlegen
5. VorlÃ¤ufige Verkabelung zum GehÃ¤use
```

### **âœ… 15:30 - MECHANIK-TESTS**
```bash
# Funktions-Tests:
1. Manueller BÃ¼gel-Test (smooth movement?)
2. Endschalter-AuslÃ¶sung prÃ¼fen
3. Keine mechanischen Blockaden?
4. Kabel-Zugentlastung OK?
5. Foto dokumentieren fÃ¼r Tag 2
```

### **ğŸ“‹ 16:00 - TAG 1 ABSCHLUSS**
- [ ] Mechanik komplett installiert
- [ ] Endschalter funktional
- [ ] Kabel provisorisch gelegt
- [ ] Werkzeug fÃ¼r Tag 2 vorbereitet
- [ ] Material-Check fÃ¼r Elektronik

---

## ğŸ“… **TAG 2: ELEKTRONIK & POWER-SYSTEM**

### **ğŸŒ… 08:00 - GEHÃ„USE INSTALLATION**
#### **Standort-Wahl:**
- 2m Abstand vom BÃ¼gel (Kabel-Reichweite)
- 1.5m HÃ¶he (Vandalismus-Schutz)
- SÃ¼d-Ausrichtung fÃ¼r Solar Panel
- Freie Sicht fÃ¼r GSM-Antenne

#### **Montage:**
```bash
1. Wandhalterung/Mast installieren
2. GehÃ¤use ausrichten (Wartungs-Zugang)
3. Solar Panel auf Deckel montieren (30Â° Neigung)
4. PG7 KabeldurchfÃ¼hrungen einbauen
5. Erdungs-Anschluss (Blitzschutz)
```

### **â˜€ï¸ 09:00 - SOLAR-SYSTEM**
```bash
# Solar Panel anschlieÃŸen:
1. MC4-Stecker wasserdicht verbinden
2. Kabel durch PG7 ins GehÃ¤use
3. PolaritÃ¤t prÃ¼fen! (Rot=+, Schwarz=-)
4. Erste Spannungsmessung (Multimeter)
   - Sonne: 18-22V
   - Schatten: <5V
```

### **ğŸ”‹ 10:00 - POWER-VERKABELUNG**
```bash
# MPPT Controller Installation:
1. Controller im GehÃ¤use befestigen
2. Solar+ â†’ MPPT Solar+
3. Solar- â†’ MPPT Solar-
4. Akku+ â†’ 20A Sicherung â†’ MPPT Batt+
5. Akku- â†’ MPPT Batt-

# DC-DC Converter:
6. MPPT Load+ â†’ DC-DC Input+
7. MPPT Load- â†’ DC-DC Input-
8. DC-DC Output: 5V â†’ ESP32 VIN
```

**âš ï¸ SICHERHEIT:**
- Immer + vor - anschlieÃŸen
- Kurzschluss vermeiden!
- Sicherung als letztes einbauen

### **ğŸ“Š 11:00 - SENSOR-VERKABELUNG**
```bash
# Ultraschall JSN-SR04T:
VCC â†’ 5V Rail
GND â†’ Common GND
Trig â†’ ESP32 Pin 2  
Echo â†’ ESP32 Pin 3

# Endschalter:
Limit UP â†’ ESP32 Pin 4 + GND
Limit DOWN â†’ ESP32 Pin 5 + GND

# PIR Motion:
VCC â†’ 3.3V Rail
OUT â†’ ESP32 Pin 6
GND â†’ Common GND
```

### **â˜• 12:00 - MITTAGSPAUSE**

### **ğŸ§  13:00 - ESP32 + SIM-MODUL**
```bash
# ESP32-S3 Installation:
1. ESP32 auf Breadboard/PCB montieren
2. Power-Versorgung anschlieÃŸen (5V â†’ VIN)
3. GPIO-Verkabelung nach Plan
4. Status-LED anschlieÃŸen (Pin 9)

# SIM7600E Modul:
5. SIM-Karte einlegen (richtige Orientierung!)
6. Antennen anschlieÃŸen (GSM + GPS)
7. UART-Verbindung: TXâ†’Pin17, RXâ†’Pin18
8. Power Control â†’ Pin 19
```

### **âš¡ 14:00 - ACTUATOR-STEUERUNG**
```bash
# Relay-Modul verkabeln:
ESP32 Pin 7 â†’ Relay1 IN (UP)
ESP32 Pin 8 â†’ Relay2 IN (DOWN)
12V Akku+ â†’ Relay COM (beide)
Relay1 NO â†’ Actuator +
Relay2 NO â†’ Actuator -
Actuator GND â†’ Akku GND

# Emergency Stop:
Emergency Button â†’ ESP32 Pin 10 + GND
(Ã–ffner-Kontakt, Pull-up intern)
```

### **ğŸ”Œ 15:00 - SPANNUNGS-TESTS**
```bash
# Power-System prÃ¼fen:
1. Akku-Spannung: 12-14.4V âœ“
2. Solar-Ladung: MPPT LEDs âœ“
3. 5V Rail: 4.9-5.1V âœ“
4. 3.3V ESP32: 3.2-3.4V âœ“
5. Alle GND verbunden âœ“

# Sensor-Spannungen:
- Ultraschall: 5V âœ“
- Endschalter: 3.3V Pull-up âœ“
- PIR: 3.3V âœ“
```

### **ğŸ”§ 16:00 - ERSTE POWER-ON TESTS**
```bash
# System hochfahren:
1. Haupt-Sicherung einsetzen
2. ESP32 sollte starten (Status-LED?)
3. SIM-Modul Power-LED prÃ¼fen
4. MPPT Display: Akku-Ladung
5. Keine Rauchentwicklung! ğŸš¨
```

### **ğŸ“‹ 16:30 - TAG 2 ABSCHLUSS**
- [ ] Power-System funktional
- [ ] Alle Spannungen korrekt
- [ ] Sensoren verkabelt
- [ ] Actuator-Steuerung bereit
- [ ] GehÃ¤use wetterdicht verschlossen

---

## ğŸ“… **TAG 3: SOFTWARE & INBETRIEBNAHME**

### **ğŸŒ… 08:00 - FIRMWARE VORBEREITUNG**
#### **Arduino IDE Setup:**
```bash
1. Arduino IDE Ã¶ffnen
2. ESP32 Board Package installiert? âœ“
3. Libraries installieren:
   - ArduinoJson
   - SoftwareSerial
   - WiFi (ESP32 Core)
4. COM-Port identifizieren
```

#### **Code-Anpassung:**
```cpp
// smart_parking_firmware.ino anpassen:
const char* DEVICE_ID = "PARK_DEVICE_001";  // Eindeutig!
const char* API_BASE = "https://deine-domain.com/api";
const char* APN = "internet";  // Provider-spezifisch

// Spot-ID konfigurieren:
doc["spot_id"] = "SPOT_001";  // In registerDevice()
```

### **ğŸ“± 09:00 - FIRMWARE UPLOAD**
```bash
# ESP32 programmieren:
1. USB-Kabel an ESP32 anschlieÃŸen
2. Board: "ESP32S3 Dev Module"
3. Port: COM-Port auswÃ¤hlen
4. Upload Speed: 921600
5. Compile & Upload â¬†ï¸
6. Serial Monitor Ã¶ffnen (115200 baud)
```

### **ğŸ“¡ 10:00 - SIM-VERBINDUNG TESTEN**
```bash
# SIM-Modul Diagnose:
1. AT Commands prÃ¼fen:
   AT          â†’ OK
   AT+CPIN?    â†’ READY
   AT+CREG?    â†’ 0,1 (registered)
   AT+CSQ      â†’ Signal Strength (>15 gut)

2. Netzwerk-Registration:
   - LED-Status am SIM-Modul?
   - Provider im Display?
   - IP-Adresse erhalten?
```

### **ğŸŒ 11:00 - API-VERBINDUNG**
```bash
# Backend-Kommunikation:
1. Device Registration testen
2. HTTP POST an /hardware/register
3. Response: 200 OK?
4. Device in Backend-Database sichtbar?
5. Heartbeat-Interval starten
```

### **â˜• 12:00 - MITTAGSPAUSE**

### **ğŸ“Š 13:00 - SENSOR-KALIBRIERUNG**
```bash
# Ultraschall-Sensor:
1. Freier Parkplatz: >300cm oder Timeout
2. Auto anwesend: 15-200cm
3. Schwellwerte in Code anpassen:
   
bool isOccupied(float distance) {
  return (distance >= 15 && distance <= 200);
}

# Test mit echtem Auto:
- Auto hinfahren â†’ "OCCUPIED" im Log? âœ“
- Auto wegfahren â†’ "FREE" im Log? âœ“
```

### **âš¡ 14:00 - BÃœGEL-STEUERUNG TESTEN**
```bash
# Actuator-Tests:
1. Manual Command: "raise_barrier"
   - Relay 1 aktiviert? âœ“
   - BÃ¼gel fÃ¤hrt hoch? âœ“
   - Endschalter UP lÃ¶st aus? âœ“
   - Motor stoppt? âœ“

2. Manual Command: "lower_barrier"
   - Relay 2 aktiviert? âœ“
   - BÃ¼gel fÃ¤hrt runter? âœ“
   - Endschalter DOWN lÃ¶st aus? âœ“
   - Motor stoppt? âœ“

3. Emergency Stop Test:
   - Button drÃ¼cken wÃ¤hrend Bewegung
   - Sofortiger Stopp? âœ“
   - LED blinkt? âœ“
```

### **ğŸ›ï¸ 15:00 - SYSTEM-INTEGRATION**
```bash
# App-Steuerung testen:
1. Owner-Login in App
2. Hardware-Tab aufrufen
3. Device Status sichtbar? âœ“
4. BÃ¼gel-Befehle senden:
   - "Hoch" Button â†’ BÃ¼gel hoch âœ“
   - "Runter" Button â†’ BÃ¼gel runter âœ“
5. Echtzeit-Updates im Dashboard âœ“
```

### **ğŸ”„ 16:00 - LIVE-TEST MIT AUTO**
```bash
# VollstÃ¤ndiger Workflow:
1. Auto nÃ¤hert sich â†’ App zeigt "FREI"
2. User bucht Parkplatz â†’ BÃ¼gel fÃ¤hrt automatisch hoch
3. Auto parkt ein â†’ Sensor erkennt "BESETZT"
4. BÃ¼gel fÃ¤hrt automatisch runter (Sicherheit)
5. Auto fÃ¤hrt weg â†’ Sensor erkennt "FREI"
6. Session wird beendet â†’ Einnahmen gebucht âœ“
```

### **ğŸ“Š 17:00 - MONITORING & FINE-TUNING**
```bash
# Power-Management:
- Battery Level: >80% âœ“
- Solar Charging: Aktiv bei Sonne âœ“
- Stromverbrauch: <100mA Standby âœ“

# Kommunikation:
- Heartbeat alle 30s âœ“
- Signal Strength: >-90dBm âœ“
- API Response Times: <5s âœ“

# Mechanik:
- Smooth Movement âœ“
- Keine GerÃ¤usche âœ“
- Endschalter prÃ¤zise âœ“
```

### **ğŸ“‹ 17:30 - ABNAHME & DOKUMENTATION**
- [ ] VollstÃ¤ndiger Funktionstest bestanden
- [ ] Sicherheitstest (Emergency Stop) OK
- [ ] Power-System autark funktional
- [ ] App-Integration vollstÃ¤ndig
- [ ] Installationsprotokoll erstellt
- [ ] Wartungsplan Ã¼bergeben
- [ ] Endkunde-Schulung durchgefÃ¼hrt

---

## ğŸ” **QUALITÃ„TSKONTROLLE - CHECKLISTE**

### **ğŸ”§ Mechanik:**
- [ ] BÃ¼gel-Bewegung smooth (kein Ruckeln)
- [ ] Endschalter lÃ¶sen zuverlÃ¤ssig aus
- [ ] Kein mechanisches Spiel
- [ ] Emergency Stop funktional
- [ ] Befestigung rock-solid

### **âš¡ Elektronik:**
- [ ] Alle Spannungen im Toleranzbereich
- [ ] Keine losen Verbindungen
- [ ] GehÃ¤use wasserdicht
- [ ] Kabel-Zugentlastung OK
- [ ] Sicherungen richtig dimensioniert

### **ğŸ“¡ Kommunikation:**
- [ ] SIM-Karte registriert
- [ ] API-Verbindung stabil
- [ ] Heartbeat-Intervall konstant
- [ ] Commands werden ausgefÃ¼hrt
- [ ] Datenschutz gewÃ¤hrleistet

### **ğŸ”‹ Power:**
- [ ] Solar-Ladung funktional
- [ ] Akku-KapazitÃ¤t ausreichend
- [ ] Tiefentladeschutz aktiv
- [ ] Power-Management optimiert
- [ ] Backup-Strategie definiert

### **ğŸ“Š Software:**
- [ ] Sensor-Kalibrierung korrekt
- [ ] Occupancy Detection zuverlÃ¤ssig
- [ ] App-Integration vollstÃ¤ndig
- [ ] Error Handling implementiert
- [ ] Logging & Monitoring aktiv

---

## ğŸš¨ **TROUBLESHOOTING-GUIDE**

### **âŒ Problem: ESP32 startet nicht**
```bash
Diagnose:
1. Power LED am ESP32? Nein â†’ Power-Problem
2. Serial Output? Nein â†’ Firmware-Problem
3. Boot-Loop? â†’ Memory/Code-Problem

LÃ¶sung:
- 5V Spannung messen (4.9-5.1V)
- USB-Kabel tauschen
- Firmware neu flashen
- Factory Reset durchfÃ¼hren
```

### **âŒ Problem: Keine SIM-Verbindung**
```bash
Diagnose:
1. AT Commands â†’ Timeout? â†’ SIM-Modul defekt
2. CPIN? â†’ SIM ERROR â†’ SIM-Karte Problem
3. CREG? â†’ Not registered â†’ Netz-Problem

LÃ¶sung:
- SIM-Karte in Handy testen
- Antennen-Verbindung prÃ¼fen
- APN konfigurieren
- Provider kontaktieren
```

### **âŒ Problem: BÃ¼gel bewegt sich nicht**
```bash
Diagnose:
1. 12V am Actuator messen
2. Relay-LEDs leuchten?
3. Emergency Stop gedrÃ¼ckt?
4. Endschalter blockiert?

LÃ¶sung:
- Sicherung prÃ¼fen
- Relay-Modul tauschen
- Emergency Stop entriegeln
- Endschalter justieren
```

### **âŒ Problem: Sensor zeigt falsche Werte**
```bash
Diagnose:
1. Ultraschall Echo empfangen?
2. Verkabelung korrekt?
3. Interferenzen (andere Sensoren)?
4. Verschmutzung/BeschÃ¤digung?

LÃ¶sung:
- Sensor reinigen
- Kabel-KontinuitÃ¤t prÃ¼fen
- Position/Winkel anpassen
- Schwellwerte kalibrieren
```

### **âŒ Problem: Akku lÃ¤dt nicht**
```bash
Diagnose:
1. Solar-Spannung bei Sonne? <16V â†’ Panel Problem
2. MPPT-LEDs? Aus â†’ Controller Problem
3. Akku-Spannung steigt nicht? â†’ Akku defekt

LÃ¶sung:
- Panel-Verkabelung prÃ¼fen
- Verschattung entfernen
- MPPT-Controller Reset
- Akku-KapazitÃ¤t messen
```

---

## ğŸ“ **SUPPORT-KONTAKTE**

### **ğŸ”§ Hardware-Support:**
- **ESP32 Probleme:** community.platformio.org
- **SIM-Modul:** Waveshare Support
- **Linear Actuator:** Progressive Automations

### **ğŸ“± Software-Support:**
- **Arduino IDE:** arduino.cc/en/support
- **API-Integration:** Projekt-Dokumentation
- **Firmware-Updates:** GitHub Repository

### **âš¡ Power-System:**
- **Solar-Komponenten:** Offgridtec Support
- **MPPT-Controller:** Victron Community
- **LiFePO4-Akku:** LiTime Support

### **ğŸš¨ Notfall-Kontakte:**
- **Elektriker:** [Lokaler Kontakt]
- **Metallbauer:** [Lokaler Kontakt]
- **IT-Support:** [Projekt-Team]

---

## ğŸ¯ **ERFOLGS-KRITERIEN**

### **âœ… Installation erfolgreich wenn:**
- Vollautomatischer Betrieb 24/7
- Sensor-Erkennung >95% Genauigkeit
- BÃ¼gel-Steuerung <10s Response-Zeit
- Power-System >7 Tage autark
- App-Integration Real-Time Updates
- Wartungsintervall >1 Monat

### **ğŸ† System-Performance:**
- **VerfÃ¼gbarkeit:** >99.5% Uptime
- **Batterie-Laufzeit:** >168h ohne Sonne
- **Kommunikation:** <5s API Response
- **Mechanik:** >100.000 Zyklen MTBF
- **Vandalismus-Resistenz:** IP65 + Sicherung

---

**ğŸš€ Mit dieser Anleitung installierst du ein professionelles Smart Parking System! ğŸ¯**

**ğŸ’¡ Bei Problemen: Schritt-fÃ¼r-Schritt Troubleshooting befolgen und Support kontaktieren.**
